:root {
  --bg: #20242f;
  --panel: #252a35;
  --ink: #e9edf6;
  --muted: #a2acbd;
  --accent: #f35d9f;
  --gap: clamp(0.65rem, 1vw, 1rem);
  --radius: 0.35rem;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: Inter, ui-sans-serif, system-ui, sans-serif; color: var(--ink); background: radial-gradient(circle at 15% 5%, #2d3240, var(--bg) 55%); }
a { color: inherit; }

.app-shell { min-height: 100dvh; }
.topbar { max-width: 1240px; margin: 0 auto; padding: 1.5rem 1.25rem 0.5rem; text-align: center; }
.label { color: #7f8aa0; letter-spacing: 0.12em; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.nav-links { display: flex; gap: 1rem; justify-content: center; margin-top: .5rem; }
.nav-links a { opacity: .7; text-decoration: none; }
.nav-links a.active { opacity: 1; font-weight: 600; }

.home-view { max-width: 900px; margin: 1.5rem auto; padding: 1.25rem; text-align: center; }
.cta { display: inline-block; margin-top: 1rem; background: linear-gradient(90deg, rgb(131 110 252 / 0.9), rgb(84 76 184 / 0.7)); padding: .6rem .9rem; border-radius: .4rem; text-decoration: none; }
.boot-loader { padding: .8rem; color: var(--muted); }

.gallery-page {
  max-width: 1240px;
  margin: 0 auto;
  padding: 1rem 1.25rem 2rem;
  display: grid;
  grid-template-columns: 130px 1fr 130px;
  gap: 1rem;
}

.panel {
  position: sticky; top: 1rem;
  background: color-mix(in oklab, var(--panel), transparent 15%);
  border: 1px solid rgb(255 255 255 / 0.08);
  border-radius: var(--radius);
  padding: 0.8rem;
  backdrop-filter: blur(8px);
  height: fit-content;
}
.panel-title { color: var(--accent); margin: 0 0 .7rem; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.stack { display: grid; gap: .4rem; }
.toggle { appearance:none; border:0; border-radius:.3rem; text-align:left; padding:.2rem .35rem; background:transparent; color:var(--muted); cursor:pointer; }
.toggle:hover,.toggle:focus-visible { color:var(--ink); background: rgb(255 255 255 / .06); outline:none; }
.toggle.is-active { color:#fff; background: linear-gradient(90deg, rgb(131 110 252 / .9), rgb(84 76 184 / .7)); font-weight:600; }

.gallery { display:grid; gap:var(--gap); --row-step:8px; grid-template-columns:repeat(12,1fr); grid-auto-rows:var(--row-step); grid-auto-flow:dense; }
.card { border-radius: var(--radius); overflow:hidden; position:relative; border:1px solid rgb(255 255 255 /.08); background:#171b24; min-height:120px; }
.card::before { content:""; position:absolute; inset:0; background:linear-gradient(100deg,#1f2430 10%,#2a3040 28%,#1f2430 46%); background-size:250% 100%; animation: shimmer 1.6s linear infinite; }
.card.is-loaded::before { opacity:0; transition:opacity 360ms ease; }
.card img { width:100%; height:100%; object-fit:cover; display:block; transition:transform .5s ease, filter .4s ease, opacity .28s ease; filter:var(--image-filter, none); opacity:0; }
.card.is-loaded img { opacity:1; }
.card:hover img { transform:scale(1.04); }

.layout-masonry .card { grid-column: span 3; }
.layout-masonry .card-lg { grid-column: span 6; }
.layout-masonry .card-tall { grid-column: span 3; }
.layout-masonry .card-md { grid-column: span 4; }
.layout-masonry .card-sm { grid-column: span 2; }
.layout-cinematic .card { grid-column: span 3; }
.layout-cinematic .card:nth-child(1) { grid-column: span 12; }
.layout-cinematic .card:nth-child(4n), .layout-cinematic .card:nth-child(5n) { grid-column: span 6; }
.layout-editorial { grid-template-columns: repeat(6,1fr); }
.layout-editorial .card { grid-column: span 2; }
.layout-editorial .card:nth-child(1), .layout-editorial .card:nth-child(7), .layout-editorial .card:nth-child(16) { grid-column: span 3; }

.fx-classic { --image-filter:none; }
.fx-noir { --image-filter:grayscale(1) contrast(1.08); }
.fx-sepia { --image-filter:sepia(.72) saturate(1.15); }
.fx-glow { --image-filter:saturate(1.3) contrast(1.05) brightness(1.05); }
.fx-etched { --image-filter:grayscale(.75) invert(.05) contrast(1.28); }
.fx-dream { --image-filter:hue-rotate(8deg) saturate(.9) blur(.2px); }

@keyframes shimmer { from { background-position:150% 0; } to { background-position:-80% 0; } }

@media (max-width:980px){
  .gallery-page{grid-template-columns:1fr;}
  .panel{position:static;display:flex;justify-content:space-between;align-items:center;}
  .stack{display:flex;flex-wrap:wrap;}
  .gallery{grid-template-columns:repeat(6,1fr);}
  .layout-masonry .card, .layout-cinematic .card, .layout-editorial .card{grid-column:span 3;}
  .layout-cinematic .card:nth-child(1), .layout-masonry .card-lg{grid-column:span 6;}
}
@media (max-width:640px){
  .topbar{text-align:left;}
  .nav-links{justify-content:flex-start;}
  .gallery{grid-template-columns:repeat(2,1fr);--row-step:6px;}
  .layout-masonry .card, .layout-cinematic .card, .layout-editorial .card{grid-column:span 2 !important;}
}
